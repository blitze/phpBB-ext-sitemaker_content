{"version":3,"sources":["form/fields.min.js"],"names":["responsive_filemanager_callback","field_id","$","trigger","window","document","resizeInput","element","parent","width","val","length","ready","tinycolor","cache","each","options","this","data","palette","showPalette","rows","replace","split","i","str","push","trim","spectrum","extend","hideAfterPaletteSelect","preferredFormat","showButtons","css","current","minDate","Date","maxDate","language","dpLang","onSelect","fd","d","picker","el","dp","datepicker","selected","dateStr","selectDate","fn","ionRangeSlider","change","imgSrc","fieldId","attr","html","next","fancybox","height","autoScale","type","jQuery"],"mappings":"AACA,IAAIA,gCAAkC,SAASC,GAC9C,aAEAC,EAAE,IAAID,GAAUE,QAAQ,YAGzB,SAAUD,EAAGE,EAAQC,GACpB,aAEA,IAAIC,EAAc,SAASC,GAC1BA,EAAQC,SAASC,MAAMF,EAAQG,MAAMC,OAAS,MAG/CT,EAAEG,GAAUO,MAAM,WAGjB,GAAIR,EAAOS,UAAW,CACrB,IAAIC,KACJZ,EAAE,gBAAgBa,KAAK,WACtB,IAAIC,EAAUd,EAAEe,MAAMC,OAEtB,GAAIF,EAAQG,QAEX,GADAH,EAAQI,aAAc,EAClBN,EAAME,EAAQG,SACjBH,EAAQG,QAAUL,EAAME,EAAQG,aAC1B,CACN,IAAIE,EAAOL,EAAQG,QAAQG,QAAQ,KAAM,IAAIC,MAAM,MAE/CJ,KACJjB,EAAEa,KAAKM,EAAM,SAASG,EAAGC,GACxBN,EAAQO,KAAKD,EAAIE,OAAOJ,MAAM,QAG/BT,EAAME,EAAQG,SAAWA,EACzBH,EAAQG,QAAUA,EAIpBjB,EAAEe,MAAMW,SAAS1B,EAAE2B,OAAOb,GACzBc,wBAAwB,EACxBC,gBAAiB,MACjBC,aAAa,OAKf9B,EAAE,oBAAoB+B,IAAI,eAAgB,GAI3C/B,EAAE,mBAAmBa,KAAK,WACzB,IAAIC,EAAUd,EAAEe,MAAMC,OAClBgB,EAAUhC,EAAEe,MAAMP,MAEtBM,EAAUd,EAAE2B,OAAOb,GAClBmB,QAAUnB,EAAe,QAAI,IAAIoB,KAAKpB,EAAQmB,SAAW,GACzDE,QAAUrB,EAAe,QAAI,IAAIoB,KAAKpB,EAAQqB,SAAW,GACzDC,SAAUlC,EAAOmC,WACjBC,SAAU,SAAUC,EAAIC,EAAGC,GAC1BrC,EAAYJ,EAAEyC,EAAOC,QAIvB,IAAIC,EAAK3C,EAAEe,MAAM6B,WAAW9B,GAASE,KAAK,cAG1C,GAFAZ,EAAYJ,EAAEe,OAEViB,EAAS,CACZ,IAAIa,KACJ7C,EAAEa,KAAKmB,EAAQX,MAAM,KAAM,SAASC,EAAGwB,GACtCD,EAASrB,KAAK,IAAIU,KAAKY,MAExBH,EAAGI,WAAWF,WAKmB,IAAxB7C,EAAEgD,GAAGC,gBACfjD,EAAE,gBAAgBiD,iBAInBjD,EAAE,gBAAgBkD,OAAO,WACxB,IAAIC,EAASnD,EAAEe,MAAMP,MACjB4C,EAAUpD,EAAEe,MAAMsC,KAAK,QAE3BrD,EAAE,YAAcoD,GAASE,KAAKH,EAAO1C,OAAS,YAAc0C,EAAS,MAAQ,MAE7EI,OACAC,UACAjD,MAAW,IACXkD,OAAW,IACLC,WAAc,EACpBC,KAAU,aAtFb,CAyFGC,OAAQ1D,OAAQC","file":"fields.min.js","sourcesContent":["// Responsive Filemanager callback\nvar responsive_filemanager_callback = function(field_id) {\n\t'use strict';\n\t/* global $ */\n\t$('#'+field_id).trigger('change');\n};\n\n(function($, window, document) {\n\t'use strict';\n\n\tvar resizeInput = function(element) {\n\t\telement.parent().width(element.val().length + '%');\n\t};\n\n\t$(document).ready(function() {\n\n\t\t// Color Picker\n\t\tif (window.tinycolor) {\n\t\t\tvar cache = {};\n\t\t\t$('.colorpicker').each(function() {\n\t\t\t\tvar options = $(this).data();\n\n\t\t\t\tif (options.palette) {\n\t\t\t\t\toptions.showPalette = true;\n\t\t\t\t\tif (cache[options.palette]) {\n\t\t\t\t\t\toptions.palette = cache[options.palette];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar rows = options.palette.replace(/ /g, '').split(\"\\n\");\n\n\t\t\t\t\t\tvar palette = [];\n\t\t\t\t\t\t$.each(rows, function(i, str) {\n\t\t\t\t\t\t\tpalette.push(str.trim().split(','));\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tcache[options.palette] = palette;\n\t\t\t\t\t\toptions.palette = palette;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$(this).spectrum($.extend(options, {\n\t\t\t\t\thideAfterPaletteSelect: true,\n\t\t\t\t\tpreferredFormat: 'hex',\n\t\t\t\t\tshowButtons: false\n\t\t\t\t}));\n\t\t\t});\n\n\t\t\t// overwrite prosilver's fieldset field1 margin-bottom: 3px\n\t\t\t$('.sp-replacer div').css('marginBottom', 0);\n\t\t}\n\n\t\t// Datetime picker\n\t\t$('.datetimepicker').each(function() {\n\t\t\tvar options = $(this).data();\n\t\t\tvar current = $(this).val();\n\n\t\t\toptions = $.extend(options, {\n\t\t\t\tminDate: (options.minDate) ? new Date(options.minDate) : '',\n\t\t\t\tmaxDate: (options.maxDate) ? new Date(options.maxDate) : '',\n\t\t\t\tlanguage: window.dpLang || {},\n\t\t\t\tonSelect: function (fd, d, picker) {\n\t\t\t\t\tresizeInput($(picker.el));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar dp = $(this).datepicker(options).data('datepicker');\n\t\t\tresizeInput($(this));\n\n\t\t\tif (current) {\n\t\t\t\tvar selected = [];\n\t\t\t\t$.each(current.split(','), function(i, dateStr) {\n\t\t\t\t\tselected.push(new Date(dateStr));\n\t\t\t\t});\n\t\t\t\tdp.selectDate(selected);\n\t\t\t}\n\t\t});\n\n\t\t// Range picker\n\t\tif (typeof $.fn.ionRangeSlider !== 'undefined') {\n\t\t\t$('.rangepicker').ionRangeSlider();\n\t\t}\n\n\t\t// image field\n\t\t$('.image-field').change(function() {\n\t\t\tvar imgSrc = $(this).val();\n\t\t\tvar fieldId = $(this).attr('name');\n\n\t\t\t$('#preview-' + fieldId).html(imgSrc.length ? '<img src=' + imgSrc + ' />' : '');\n\t\t})\n\t\t.next()\n\t\t.fancybox({\t\n\t\t\t'width'\t\t: 900,\n\t\t\t'height'\t: 600,\n\t        'autoScale'\t: false,\n\t\t\t'type'\t\t: 'iframe'\n\t    });\n    });\n})(jQuery, window, document);"]}