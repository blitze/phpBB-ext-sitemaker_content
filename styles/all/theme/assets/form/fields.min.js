function responsive_filemanager_callback(e){"use strict";$("#"+e).trigger("change")}function getInfoWindowContent(e,t){"use strict";return(e?"<h4>"+e+"</h4>":"")+t}function updateLocationInfo(e,t,a){"use strict";$mapFields[e].address.val(t.formatted_address),$mapFields[e].latitude.val(t.geometry.location.lat),$mapFields[e].longitude.val(t.geometry.location.lng),$mapFields[e].place.val(t.name),a.setContent(getInfoWindowContent(t.name,t.formatted_address))}function initAutocomplete(e,t,a,o){"use strict";$mapFields[e]={map:$("#map-"+e),search:$("#search-"+e),address:$("#"+e+"-address"),latitude:$("#"+e+"-latitude"),longitude:$("#"+e+"-longitude"),place:$("#"+e+"-place"),mapType:$("#"+e+"-map-type"),zoom:$("#"+e+"-zoom")},a.setDraggable(!0);var i=new google.maps.Geocoder,n=$mapFields[e].search[0],s=new google.maps.places.Autocomplete(n);s.addListener("place_changed",function(){o.close(),a.setVisible(!1);var i=s.getPlace();i.geometry?(i.geometry.viewport?t.fitBounds(i.geometry.viewport):t.setCenter(i.geometry.location),a.setPosition(i.geometry.location),a.setVisible(!0),updateLocationInfo(e,i,o),o.open(t,a)):window.alert("No details available for input: '"+i.name+"'")}),google.maps.event.addListener(t,"zoom_changed",function(){$mapFields[e].zoom.val(t.getZoom())}),google.maps.event.addListener(t,"maptypeid_changed",function(){$mapFields[e].mapType.val(t.getMapTypeId())}),google.maps.event.addListener(a,"dragend",function(){var a=this,n=this.getPosition();t.panTo(n),i.geocode({location:n},function(i,n){if(n===google.maps.GeocoderStatus.OK)if(i[0]){t.setCenter(i[0].geometry.location),a.setPosition(i[0].geometry.location);var s={placeId:i[0].place_id};new google.maps.places.PlacesService(t).getDetails(s,function(t,a){a===google.maps.places.PlacesServiceStatus.OK&&(console.log(t),updateLocationInfo(e,t,o))})}else window.alert("No results found");else window.alert("Geocoder failed due to: "+n)})})}function initMap(){"use strict";$(".location-map").each(function(){var e=$(this).attr("id").substring(4),t=$(this).data(),a=new google.maps.LatLng(t.latitude,t.longitude),o=new google.maps.Map(this,{zoom:t.zoom||16,center:a,tilt:45,mapTypeId:t.mapType,mapTypeControl:!0,mapTypeControlOptions:{mapTypeIds:t.mapTypes.split(",")}}),i=new google.maps.Marker({map:o,title:t.place,position:a}),n=new google.maps.InfoWindow;t.address&&(n.setContent(getInfoWindowContent(t.place,t.address)),setTimeout(function(){n.open(o,i)},500)),i.addListener("click",function(){$mapFields[e].address.val()&&n.open(o,i)}),$(this).width(t.width).height(t.height),t.autocomplete&&initAutocomplete(e,o,i,n)})}var google=window.google,$mapFields={};!function(e,t,a){"use strict";function o(e){var t=e.val().length;t&&e.parent().width(t+"%")}e(a).ready(function(){if(t.tinycolor){var a={};e(".colorpicker").each(function(){var t=e(this).data();if(t.palette)if(t.showPalette=!0,a[t.palette])t.palette=a[t.palette];else{var o=t.palette.replace(/ /g,"").split("\n"),i=[];e.each(o,function(e,t){i.push(t.trim().split(","))}),a[t.palette]=i,t.palette=i}e(this).spectrum(e.extend(t,{hideAfterPaletteSelect:!0,preferredFormat:"hex",showButtons:!1}))}),e(".sp-replacer div").css("marginBottom",0)}e(".datetimepicker").each(function(){var a=e(this).data(),i=e(this).val();a=e.extend(a,{minDate:a.minDate?new Date(a.minDate):"",maxDate:a.maxDate?new Date(a.maxDate):"",language:t.dpLang||{},onSelect:function(t,a,i){o(e(i.el))}});var n=e(this).datepicker(a).data("datepicker");if(o(e(this)),i){var s=[];e.each(i.split(","),function(e,t){s.push(new Date(t))}),n.selectDate(s)}}),void 0!==e.fn.ionRangeSlider&&e(".rangepicker").ionRangeSlider(),e(".image-field").change(function(){var t=e(this).val(),a=e(this).attr("name");e("#preview-"+a).html(t.length?"<img src="+t+" />":"")}).next().fancybox({width:900,height:600,autoScale:!1,type:"iframe"})})}(jQuery,window,document);
//# sourceMappingURL=fields.min.js.map
