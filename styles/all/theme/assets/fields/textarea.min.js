!function(t,a,e){"use strict";t(e).ready(function(){var e=a.phpbb||{},n=t('textarea[data-bbcode="true"]').focus(function(){a.text_name=t(this).attr("name")});e.plupload.updateBbcode=function(a,r){n.each(function(){function n(t){var a=new RegExp("\\[attachment="+t+"\\](.*?)\\[\\/attachment\\]","g");l=l.replace(a,function(a,e){return c&&r===t?"":"[attachment="+(t+(c?-1:1))+"]"+e+"[/attachment]"})}var o=t(this,e.plupload.form),l=o.val(),c="removal"===a;if(-1!==l.indexOf("[attachment=")){var i;if(c)for(i=r;i<e.plupload.ids.length;i++)n(i);else for(i=e.plupload.ids.length-1;i>=r;i--)n(i);o.val(l)}})},t(".color_palette").each(function(){var n=t(this),r=n.data("orientation"),o=n.data("height"),l=n.data("width"),c=n.attr("data-bbcode");n.html(e.colorPalette(r,l,o)),t(n).on("click","a",function(e){var n=t(this).attr("data-color");c&&a.bbfontstyle("[color=#"+n+"]","[/color]"),e.preventDefault()})});var r=t("#preview-detail-panel .toc a, #preview-detail-panel .pagination a").click(function(a){var e=t(this).attr("href").match(/\/(\d+)$/),n=null!==e?e[1]:1;t(".pages").hide(),t("#page-"+n).show(),r.removeClass("current"),n>1?r.filter('[href$="'+n+'"]').addClass("current"):r.filter(".first").addClass("current"),a.preventDefault()})})}(jQuery,window,document);
//# sourceMappingURL=textarea.min.js.map
